<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Classify land cover based on multi-source imagery datasets — lc_sem_seg • greenSD</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Classify land cover based on multi-source imagery datasets — lc_sem_seg"><meta name="description" content="Generate semantic land cover segmentation based on map tiles and bands
of Sentinel-2-l2a images by sampling data over the landcover of ESA WorldCover
dataset and using random forest. The semantic segmentation includes the same classes
as ESA WorldCover dataset with additional class of building (See details)."><meta property="og:description" content="Generate semantic land cover segmentation based on map tiles and bands
of Sentinel-2-l2a images by sampling data over the landcover of ESA WorldCover
dataset and using random forest. The semantic segmentation includes the same classes
as ESA WorldCover dataset with additional class of building (See details)."><meta property="og:image" content="https://billbillbilly.github.io/greenSD/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">greenSD</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/data_analysis.html">data_analysis</a></li>
    <li><a class="dropdown-item" href="../articles/get_data.html">get_data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/billbillbilly/greenSD/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Classify land cover based on multi-source imagery datasets</h1>
      <small class="dont-index">Source: <a href="https://github.com/billbillbilly/greenSD/blob/main/R/core.R" class="external-link"><code>R/core.R</code></a></small>
      <div class="d-none name"><code>lc_sem_seg.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate semantic land cover segmentation based on map tiles and bands
of Sentinel-2-l2a images by sampling data over the landcover of ESA WorldCover
dataset and using random forest. The semantic segmentation includes the same classes
as ESA WorldCover dataset with additional class of building (See details).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lc_sem_seg</span><span class="op">(</span></span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  place <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"esri"</span>, <span class="st">"eox"</span><span class="op">)</span>,</span>
<span>  tile_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zoom <span class="op">=</span> <span class="fl">17</span>,</span>
<span>  s2a <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  datetime <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  cloud_cover <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  vege_perc <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  sample_size <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  trian_split <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  test <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  cores <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-bbox">bbox<a class="anchor" aria-label="anchor" href="#arg-bbox"></a></dt>
<dd><p><code>sf</code>, <code>sfc</code>, or a numeric vector (xmin, ymin, xmax, ymax)
defining the area of interest. Optional if <code>place</code> is provided.</p></dd>


<dt id="arg-place">place<a class="anchor" aria-label="anchor" href="#arg-place"></a></dt>
<dd><p>character or vector. (optional) A single line address,
e.g. ("1600 Pennsylvania Ave NW, Washington") or a vector of addresses
(c("Madrid", "Barcelona")).</p></dd>


<dt id="arg-label-year">label_year<a class="anchor" aria-label="anchor" href="#arg-label-year"></a></dt>
<dd><p>numeric. The year of interest: <code>2020</code> or <code>2021</code> for retrieving
land cover from ESA WorldCover dataset. The default is <code>2021</code>.</p></dd>


<dt id="arg-tiles">tiles<a class="anchor" aria-label="anchor" href="#arg-tiles"></a></dt>
<dd><p>character or vector of character. One of <code>"eox"</code> and
<code>c("eox","esri")</code> (default).</p></dd>


<dt id="arg-tile-year">tile_year<a class="anchor" aria-label="anchor" href="#arg-tile-year"></a></dt>
<dd><p>numeric. The year (available from 2018 to 2024) of map tiles
provided by EOX.</p></dd>


<dt id="arg-zoom">zoom<a class="anchor" aria-label="anchor" href="#arg-zoom"></a></dt>
<dd><p>numeric. Zoom level of map tiles. The default is <code>17</code>.</p></dd>


<dt id="arg-s-a">s2a<a class="anchor" aria-label="anchor" href="#arg-s-a"></a></dt>
<dd><p>character. One of "all_bands", "ndvi", and NULL.
If <code>s2a = "all_bands"</code>, all bands of Sentinel-2-l2a will downloaded.
If <code>s2a = "ndvi"</code>, only band 4 and band 8 will be downloaded to calculate
NDVI to train randomforest model.
If <code>s2a = NULL</code> (default), Sentinel-2-l2a will not be included.</p></dd>


<dt id="arg-datetime">datetime<a class="anchor" aria-label="anchor" href="#arg-datetime"></a></dt>
<dd><p>numeric vector of 2. The time of interest such as
<code>c("2020-08-01", "2020-09-01")</code> for retrieving Sentinel-2-l2a images.
(Only required, when <code>bands = "all_bands"</code> or <code>bands = "ndvi"</code>)</p></dd>


<dt id="arg-cloud-cover">cloud_cover<a class="anchor" aria-label="anchor" href="#arg-cloud-cover"></a></dt>
<dd><p>numeric. The percentage of cloud coverage for retrieving
Sentinel-2-l2a images. (Only required, when <code>bands = "all_bands"</code> or <code>bands = "ndvi"</code>)</p></dd>


<dt id="arg-vege-perc">vege_perc<a class="anchor" aria-label="anchor" href="#arg-vege-perc"></a></dt>
<dd><p>numeric. The percentage of cloud coverage for retrieving
Sentinel-2-l2a images. (Only required, when <code>bands = "all_bands"</code> or <code>bands = "ndvi"</code>)</p></dd>


<dt id="arg-sample-size">sample_size<a class="anchor" aria-label="anchor" href="#arg-sample-size"></a></dt>
<dd><p>numeric. The total number of locations to be sampled
over land cover classes. The default is <code>10000</code>.</p></dd>


<dt id="arg-trian-split">trian_split<a class="anchor" aria-label="anchor" href="#arg-trian-split"></a></dt>
<dd><p>numeric. The percentage of samples used for training model.
The default is <code>0.7</code>.</p></dd>


<dt id="arg-test">test<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>logical. Whether to test the performance of randomforests
model. The default is <code>TRUE</code>.</p></dd>


<dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>logical. Whether parallel processing will be used to
generate land cover.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>test = FALSE</code>, a land cover raster.
If <code>test = TRUE</code>, a list includes a land cover raster, model performance table,
and predictor importance plot.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function uses ESA WorldCover classification with additional class of building :</p><table class="table table"><tr><td>Code</td><td>Land Cover Class</td><td>RGB Color</td><td>Description</td></tr><tr><td>10</td><td>Tree cover</td><td>(0, 100, 0)</td><td>Geographic areas dominated by trees with a cover of 10% or more. Includes plantations, mangroves.</td></tr><tr><td>20</td><td>Shrubland</td><td>(255, 187, 34)</td><td>Areas dominated by shrubs with cover ≥10%. Includes evergreen/deciduous.</td></tr><tr><td>30</td><td>Grassland</td><td>(255, 255, 76)</td><td>Dominated by herbaceous plants with cover ≥10%. Includes savannas, pastures, steppes.</td></tr><tr><td>40</td><td>Cropland</td><td>(240, 150, 255)</td><td>Areas with annual crops sown/planted and harvested within 12 months.</td></tr><tr><td>50</td><td>Built-up</td><td>(250, 0, 0)</td><td>Built environment: buildings, roads, other man-made structures.</td></tr><tr><td>60</td><td>Bare/sparse vegetation</td><td>(180, 180, 180)</td><td>Lands with exposed soil/sand/rock and &lt;10% vegetation.</td></tr><tr><td>70</td><td>Snow and Ice</td><td>(240, 240, 240)</td><td>Areas permanently covered by snow or glaciers.</td></tr><tr><td>80</td><td>Permanent water bodies</td><td>(0, 100, 200)</td><td>Lakes, rivers, reservoirs covered with water &gt;9 months/year.</td></tr><tr><td>90</td><td>Herbaceous wetland</td><td>(0, 150, 160)</td><td>Wetlands with permanent/seasonal flooding and herbaceous vegetation.</td></tr><tr><td>95</td><td>Mangroves</td><td>(0, 207, 117)</td><td>Salt-tolerant trees/shrubs in coastal intertidal zones.</td></tr><tr><td>100</td><td>Moss and lichen</td><td>(250, 230, 160)</td><td>Lichen/moss-dominated lands, often with symbiotic fungi and algae.</td></tr><tr><td>105</td><td>Buildings</td><td>(0, 0, 0)</td><td>Buildings</td></tr></table></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">sem</span> <span class="op">&lt;-</span> <span class="fu">lc_sem_seg</span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="co"># bbox = c(-83.087174,42.333373,-83.042542,42.358748),</span></span></span>
<span class="r-in"><span>   tiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'esri'</span>, <span class="st">'eox'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   label_year <span class="op">=</span> <span class="fl">2021</span>,</span></span>
<span class="r-in"><span>   tile_year <span class="op">=</span> <span class="fl">2024</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Xiaohao Yang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

